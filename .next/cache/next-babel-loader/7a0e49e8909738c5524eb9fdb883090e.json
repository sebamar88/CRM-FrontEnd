{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Seba\\\\Desktop\\\\Nueva carpeta (2)\\\\crmcliente\\\\components\\\\Header.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useQuery, gql } from '@apollo/client';\nimport { useRouter } from 'next/router';\nconst OBTENER_USUARIO = gql`\n    query obtenerUsuario{\n        obtenerUsuario {\n            id\n            nombre\n            apellido\n        }\n    }\n`;\n\nconst Header = () => {\n  const router = useRouter(); // query de apollo\n\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(OBTENER_USUARIO); // console.log(data)\n  // console.log(loading)\n  // console.log(error)\n  // Proteger que no accedamos a data antes de tener resultados\n\n  if (loading) return null; // Si no hay informacion\n\n  if (!data) {\n    return router.push('/login');\n  }\n\n  const {\n    nombre,\n    apellido\n  } = data.obtenerUsuario;\n\n  const cerrarSesion = () => {\n    localStorage.removeItem('token');\n    router.push('/login');\n  };\n\n  return __jsx(\"div\", {\n    className: \"sm:flex sm:justify-between mb-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, __jsx(\"p\", {\n    className: \"mr-2 mb-5 lg:mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Hola: \", nombre, \" \", apellido), __jsx(\"button\", {\n    onClick: () => cerrarSesion(),\n    type: \"button\",\n    className: \"bg-blue-800 w-full sm:w-auto font-bold uppercase text-xs rounded py-1 px-2 text-white shadow-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Cerrar Sesi\\xF3n\"));\n};\n\nexport default Header;","map":{"version":3,"sources":["C:/Users/Seba/Desktop/Nueva carpeta (2)/crmcliente/components/Header.js"],"names":["React","useQuery","gql","useRouter","OBTENER_USUARIO","Header","router","data","loading","error","push","nombre","apellido","obtenerUsuario","cerrarSesion","localStorage","removeItem"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,GAAnB,QAA8B,gBAA9B;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,MAAMC,eAAe,GAAGF,GAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;;AAUA,MAAMG,MAAM,GAAG,MAAM;AAEjB,QAAMC,MAAM,GAAGH,SAAS,EAAxB,CAFiB,CAIjB;;AACA,QAAM;AAAEI,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA;AAAjB,MAA0BR,QAAQ,CAACG,eAAD,CAAxC,CALiB,CAOjB;AACA;AACA;AAEA;;AACA,MAAGI,OAAH,EAAY,OAAO,IAAP,CAZK,CAcjB;;AACA,MAAG,CAACD,IAAJ,EAAU;AACN,WAAOD,MAAM,CAACI,IAAP,CAAY,QAAZ,CAAP;AACH;;AAED,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAuBL,IAAI,CAACM,cAAlC;;AAEA,QAAMC,YAAY,GAAG,MAAM;AACvBC,IAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAV,IAAAA,MAAM,CAACI,IAAP,CAAY,QAAZ;AACH,GAHD;;AAKA,SACI;AAAK,IAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAwCC,MAAxC,OAAiDC,QAAjD,CADJ,EAGI;AACI,IAAA,OAAO,EAAE,MAAME,YAAY,EAD/B;AAEI,IAAA,IAAI,EAAC,QAFT;AAGI,IAAA,SAAS,EAAC,iGAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,CADJ;AAcH,CAxCD;;AA0CA,eAAeT,MAAf","sourcesContent":["import React from 'react';\nimport { useQuery, gql } from '@apollo/client'\nimport { useRouter } from 'next/router';\n\nconst OBTENER_USUARIO = gql`\n    query obtenerUsuario{\n        obtenerUsuario {\n            id\n            nombre\n            apellido\n        }\n    }\n`;\n\nconst Header = () => {\n\n    const router = useRouter();\n\n    // query de apollo\n    const { data, loading, error} = useQuery(OBTENER_USUARIO);\n\n    // console.log(data)\n    // console.log(loading)\n    // console.log(error)\n\n    // Proteger que no accedamos a data antes de tener resultados\n    if(loading) return null;\n\n    // Si no hay informacion\n    if(!data) {\n        return router.push('/login');\n    }\n\n    const { nombre, apellido } = data.obtenerUsuario;\n\n    const cerrarSesion = () => {\n        localStorage.removeItem('token');\n        router.push('/login');\n    }\n\n    return ( \n        <div className=\"sm:flex sm:justify-between mb-6\">\n            <p className=\"mr-2 mb-5 lg:mb-0\">Hola: {nombre} {apellido}</p>\n\n            <button \n                onClick={() => cerrarSesion() }\n                type=\"button\"\n                className=\"bg-blue-800 w-full sm:w-auto font-bold uppercase text-xs rounded py-1 px-2 text-white shadow-md\"    \n            >\n                Cerrar Sesi√≥n\n            </button>\n        </div>\n        \n     );\n}\n \nexport default Header;"]},"metadata":{},"sourceType":"module"}